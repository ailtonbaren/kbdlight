#!/bin/bash
MDL=$(brightnessctl -l | grep kbd | awk -F"'" '{print $2}')
MAX=$(brightnessctl -d $MDL m)
MIN=0
SLEE=0.08
TEST=50

while true; do
    while true; do
        curr=$(brightnessctl -d $MDL g)
        if [ "$curr" -ge "$MAX" ]; then
            break
        fi
        brightnessctl -d $MDL s +$TEST
        SLEEp $SLEE
    done

    while true; do
        curr=$(brightnessctl -d $MDL g)
        if [ "$curr" -le "$MIN" ]; then
            break
        fi
        brightnessctl -d $MDL s 20-
        SLEEp $SLEE
    done
done
